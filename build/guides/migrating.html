<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
<link href="/blog/feed.xml" rel="alternate" title="Middleman Blog" type="application/atom+xml">
<link href="/stylesheets/site.css?1311403984" media="screen" rel="stylesheet" type="text/css">
<link href="/stylesheets/pygments/default.css?1310445082" media="screen" rel="stylesheet" type="text/css">
<title>Middleman Guides: Migrating to Middleman 2.0</title>
</head>
<body>
    <div id="frame">
      <header><h1><a href="/">Middleman Guides</a></h1>
        <h2>Hand-crafted tutorials for static frontend development</h2>
      </header><div class="container">
        <article id="main" role="main"><h1>Migrating to Middleman 2.0</h1>

<p>One of the biggest changes with Middleman 2.0 is the unification of both static files and template files into a single source directory. </p>

<p>In Middleman version 1, projects contained a public/ folder for static resources (images, javascripts and stylesheets) and a views/ folder for templated files (erb, haml, sass, coffee).</p>

<p>This awkward split is a remnant of the way Rails 3.0 and earlier divided files into static and templated content. This split, and the poor naming, caused problems for new users. Therefore, Middleman 2.0 has combined these folders into a single source/ directory. The entirety of your project, both static and templated files, live along side each other.</p>

<p>Middleman 2.0 does not offer a backwards compatibility mode. Old project must merge their folders to update Middleman. The process for doing this is fairly simple. From the terminal:</p>

<div class="highlight"><pre><span class="nb">cd </span>MY_PROJECT_FOLDER
mv public <span class="nb">source</span>
cp -R views/* <span class="nb">source</span>/
rm -rf views
</pre></div>


<p>As a convenience, Middleman 2.0 comes with a single command for running this migration.</p>

<div class="highlight"><pre><span class="nb">cd </span>MY_PROJECT_FOLDER
mm-migrate
</pre></div>


<h2>Removed/Deprecated Methods</h2>

<p>Some methods which have been renamed or deprecated for a long time have finally been removed.</p>

<h3>enable -&gt; activate</h3>

<p>In your config.rb, you should be using activate to enable features like so:</p>

<div class="highlight"><pre><span class="n">activate</span> <span class="ss">:relative_assets</span>
</pre></div>


<p>In the past, "enable" also worked. This old name has been removed. Always use "activate."</p>

<h3>mime (add new mime types)</h3>

<p>This method allowed the addition of new mime types to Middleman. This is now available higher up the stack, provided by Sinatra, as "mime_type." Use as before:</p>

<div class="highlight"><pre><span class="n">mime_type</span> <span class="s2">"pdf"</span><span class="p">,</span> <span class="s2">"application/pdf"</span>
</pre></div>


<h2>Removed Features</h2>

<p>One, rarely used, feature has been removed.</p>

<h3>Ugly Haml</h3>

<p>The Ugly Haml feature told Haml to output unindented text. This was useful as a means of obfuscation. The "ugly_haml" feature has been removed from Middleman 2.0, but you can still achieve the same effect by setting the Haml options directly:</p>

<div class="highlight"><pre><span class="n">set</span> <span class="ss">:haml</span><span class="p">,</span> <span class="p">{</span> <span class="ss">:ugly</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="p">}</span>
</pre></div>

</article><aside><h3>All Guides</h3>
          <nav><ul>
<li><a href="/guides/getting-started.html">Getting Started</a></li>
              <li><a href="/guides/migrating.html">Migrating to Middleman 2.0</a></li>
              <li><a href="/guides/basics-of-templates.html">Basics of Templates, Includes and Layouts</a></li>
              <li><a href="/guides/sass-and-compass.html">Sass and Compass</a></li>
            </ul></nav><h3>Blog Posts</h3>
          <ul>
<li>
              <small>Jul 11</small><br><a href="/blog/2011/07/11/brand-new-documentation.html">Brand New Documentation</a>
</li>
          </ul>
<h3>Other</h3>
          <ul>
<li><a href="/built-using-middleman.html">Sites Built Using Middleman</a></li>
          </ul></aside>
</div>
      <footer><p>This site is itself a Middleman project.<br>
        Fork and contribute to the guides <a href="https://github.com/tdreyno/middleman-guides">on GitHub</a>.</p> </footer><a href="http://github.com/tdreyno/middleman"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://gs1.wac.edgecastcdn.net/80460E/assets/img/71eeaab9d563c2b3c590319b398dd35683265e85/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub"></a>
</div>
<!-- Google Analytics --><script type="text/javascript">  var _gaq = _gaq || [];  _gaq.push(['_setAccount', 'UA-90027-21']);  _gaq.push(['_trackPageview']);  (function() {    var ga = document.createElement('script');    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';    ga.setAttribute('async', 'true');    document.documentElement.firstChild.appendChild(ga);  })();</script>
</body>
</html>
